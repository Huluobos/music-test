webpackJsonp([5],{Iiyt:function(e,t){},nHa9:function(e,t,s){"use strict";(function(e){t.a={data:function(){return{phoneNum:"13946657020",pwd:"xdy.57020",addform:{phone:"",password:"",nickname:"",captcha:""},countAdd:"",timer:null,rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]},dialogFormVisible:!1}},mounted:function(){var t=e(document).height();e(".content").height(t-70)},methods:{login:function(){var e=this;""==e.phoneNum||""==e.pwd?this.$alert("手机号或者密码不能为空","提示",{confirmButtonText:"确定"}):e.$axios.get("login",{phone:e.phoneNum,password:e.pwd}).then(function(t){console.log(t),t.msg&&e.$alert({title:"成功提示的文案",type:"success",center:center,showIcon:showIcon}),localStorage.setItem("userId",t.profile.userId),localStorage.setItem("nickname",t.profile.nickname),localStorage.setItem("avatarUrl",t.profile.avatarUrl),e.$message({center:!0,showClose:!0,message:"您的网易云账户已经登录成功.....",type:"success"}),console.log(t),setTimeout(function(){e.$router.push("/")},1e3)}).catch(function(e){console.log(e)})},showSet:function(){this.dialogFormVisible=!0},closeUsername:function(){this.dialogFormVisible=!1,this.$refs.addUserForm.resetFields()},closeUsernameyes:function(e){var t=this;this.$refs[e].validate(function(e){t.$axios.get("conCaptcha",{phone:t.addform.phone,captcha:t.addform.captcha}).then(function(e){console.log(e);200===e.code?console.log(11):t.$message({message:"验证码错误",type:"error"})}),console.log(flag),e&&flag?t.$axios.get("setUser",t.addform).then(function(e){console.log(e),200===e.code&&(t.$message({message:"创建用户成功",type:"success"}),t.dialogFormVisible=!1,t.$refs.addUserForm.resetFields())}):t.$message({message:"校验未通过",type:"error"})})},daojishi:function(){var e=this;this.timer||(this.countAdd=60,this.timer=setInterval(function(){e.countAdd--,e.countAdd<=0&&clearInterval(e.timer)},1e3),this.$axios.get("getCaptcha",{phone:this.addform.phone}).then(function(t){200===t.code?e.$message({message:"已发送验证码",type:"success"}):(e.$message({message:"手机号码错误",type:"error"}),e.countAdd=0,clearInterval(e.timer))}))}},created:function(){}}}).call(t,s("7t+N"))},q8bm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("nHa9"),a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),s("div",{staticClass:"login-box"},[s("div",{staticClass:"use-login"},[e._v("用户登录")]),e._v(" "),s("div",{staticClass:"line"},[s("div",{staticClass:"line-title"},[e._v("手机号：")]),e._v(" "),s("div",{staticClass:"line-input"},[s("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.phoneNum,callback:function(t){e.phoneNum=t},expression:"phoneNum"}})],1)]),e._v(" "),s("div",{staticClass:"line"},[s("div",{staticClass:"line-title"},[e._v("密码：")]),e._v(" "),s("div",{staticClass:"line-input"},[s("el-input",{attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}})],1)]),e._v(" "),s("div",{staticClass:"line"},[s("div",{staticClass:"rihht",on:{click:e.showSet}},[e._v("没有账号请注册")]),e._v(" "),s("div",{staticClass:"zhuyi"},[e._v("注 ：请使用网易云账户的手机号和密码登录")])]),e._v(" "),s("div",{staticClass:"line"},[s("el-button",{attrs:{size:"medium ",type:"danger",round:""},on:{click:function(t){return e.login()}}},[e._v("登    录")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"注册",visible:e.dialogFormVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"addUserForm",attrs:{model:e.addform,"label-width":"80px",rules:e.rules}},[s("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addform.phone,callback:function(t){e.$set(e.addform,"phone",t)},expression:"addform.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{"auto-complete":"off",type:"password"},model:{value:e.addform.password,callback:function(t){e.$set(e.addform,"password",t)},expression:"addform.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addform.nickname,callback:function(t){e.$set(e.addform,"nickname",t)},expression:"addform.nickname"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"验证码",prop:"captcha"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addform.captcha,callback:function(t){e.$set(e.addform,"captcha",t)},expression:"addform.captcha"}},[s("el-button",{attrs:{slot:"append"},on:{click:e.daojishi},slot:"append"},[e._v(e._s(e.countAdd>0?this.countAdd:"获取验证码"))])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{resetFields:""},on:{click:e.closeUsername}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",resetFields:""},on:{click:function(t){return e.closeUsernameyes("addUserForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bt-top"},[t("div",{staticClass:"title"},[t("h2",[this._v("音乐试听系统")]),this._v(" "),t("div",{staticClass:"py"},[this._v("Design of High Quality Music Audio System Based on Netease Cloud")])])])}]};var i=function(e){s("Iiyt")},n=s("VU/8")(o.a,a,!1,i,"data-v-58b0707b",null);t.default=n.exports}});
//# sourceMappingURL=5.7a897d9cbac8112a9de5.js.map