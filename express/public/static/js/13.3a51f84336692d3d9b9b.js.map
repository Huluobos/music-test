{"version":3,"sources":["webpack:///src/view/music/index.vue","webpack:///./src/view/music/index.vue?800d","webpack:///./src/view/music/index.vue"],"names":["music","name","components","headerDom","data","key","title","profile","myloveMusicList","loveMusicList","showloveMusicList","total","methods","handleCurrentChange","val","endindex","startindex","this","slice","getMusicList","userId","_this","that","$axios","get","uid","then","result","playlist","getMyMusic","id","catch","error","console","log","br","dir","tracks","length","getMusicDetail","res","playMusic","item","_this2","$notify","duration","position","dangerouslyUseHTMLString","message","url","created","mounted","localStorage","getItem","$route","query","view_music","render","_vm","_h","$createElement","_c","_self","_v","staticClass","_s","staticStyle","width","min-height","attrs","stripe","type","label","prop","scopedSlots","_u","fn","scope","max-height","display","src","row","al","picUrl","alt","fixed","size","on","click","$event","background","layout","page-size","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"4GA+CAA,GACAC,KAAA,QACAC,YACAC,oBAAA,GAEAC,KALA,WAMA,OAEAC,IAAA,GACAC,MAAA,OAEAC,WACAC,gBAAA,GACAC,iBACAC,qBACAC,MAAA,MAIAC,SACAC,oBADA,SACAC,GACA,IAAAC,EAAA,GAAAD,EACAE,EAAA,GAAAF,EAAA,GACAG,KAAAP,kBAAAO,KAAAR,cAAAS,MAAAF,EAAAD,IAIAI,aARA,SAQAC,GAAA,IAAAC,EAAAJ,KACAK,EAAAL,KACAK,EAAAC,OACAC,IAAA,eAAAC,IAAAL,IACAM,KAAA,SAAAC,GACAL,EAAAd,gBAAAmB,EAAAC,SAAA,GAEAN,EAAAO,WAAAR,EAAAb,gBAAAsB,MAEAC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAIAH,WAtBA,SAsBAC,GACA,IAAAR,EAAAL,KACAK,EAAAC,OAAAC,IAAA,iBAAAM,KAAAK,GAAA,QAAAT,KAAA,SAAAC,GACAM,QAAAG,IAAAT,GACAL,EAAAb,cAAAkB,EAAAC,SAAAS,OACAf,EAAAX,MAAAgB,EAAAC,SAAAS,OAAAC,OACAhB,EAAAT,oBAAA,KACAkB,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAIAO,eAlCA,SAkCAlC,GACAY,KAAAM,OAAAC,IAAA,SAAAM,GAAAzB,IAAAqB,KAAA,SAAAc,MAEAT,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAIAS,UA1CA,SA0CAC,EAAArC,GAAA,IAAAsC,EAAA1B,KACAA,KAAAM,OAAAC,IAAA,gBAAAM,GAAAzB,IAAAqB,KAAA,SAAAc,GACAG,EAAAC,SACAC,SAAA,EACAvC,MAAAoC,EACAI,SAAA,eACAC,0BAAA,EACAC,QACA,mEACAR,EAAApC,KAAA,GAAA6C,IACA,iBAEAlB,MAAA,SAAAC,GACAC,QAAAC,IAAAF,OAIAkB,QA9EA,aAkFAC,QAlFA,WAmFA,IACA/B,EAAAgC,aAAAC,QAAA,UADApC,KAEAqC,OAAAC,OAFAtC,KAGAqC,OAAAC,MAAAzB,IAHAb,KAIAZ,IAJAY,KAIAqC,OAAAC,MAAAzB,GAJAb,KAKAX,MALAW,KAKAqC,OAAAC,MAAAtD,KACAgB,KAAAY,WANAZ,KAMAZ,MAKAY,KAAAE,aAAAC,KC1IeoC,GADEC,OAFjB,WAA0B,IAAAC,EAAAzC,KAAa0C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAAH,EAAAK,GAAA,KAAAF,EAAA,OAAuDG,YAAA,YAAsBH,EAAA,OAAYG,YAAA,YAAsBH,EAAA,MAAAH,EAAAK,GAAA,OAAAF,EAAA,QAAoCG,YAAA,UAAoBN,EAAAK,GAAAL,EAAAO,GAAAP,EAAApD,YAAAoD,EAAAK,GAAA,KAAAF,EAAA,YAA2DK,aAAaC,MAAA,OAAAC,aAAA,SAAoCC,OAAQjE,KAAAsD,EAAAhD,kBAAA4D,OAAA,MAA0CT,EAAA,mBAAwBQ,OAAOE,KAAA,QAAAC,MAAA,KAAAL,MAAA,QAA0CT,EAAAK,GAAA,KAAAF,EAAA,mBAAoCQ,OAAOI,KAAA,KAAAD,MAAA,KAAAL,MAAA,OAAuCO,YAAAhB,EAAAiB,KAAsBtE,IAAA,UAAAuE,GAAA,SAAAC,GAAiC,OAAAhB,EAAA,OAAkBK,aAAaY,aAAA,QAAAX,MAAA,QAAAY,QAAA,SAAuDV,OAAQW,IAAAH,EAAAI,IAAAC,GAAAC,OAAAC,IAAA,aAA2C1B,EAAAK,GAAA,KAAAF,EAAA,mBAAoCQ,OAAOI,KAAA,OAAAD,MAAA,QAA4Bd,EAAAK,GAAA,KAAAF,EAAA,mBAAoCQ,OAAOI,KAAA,OAAAD,MAAA,KAAAL,MAAA,SAA0CT,EAAAK,GAAA,KAAAF,EAAA,mBAAoCQ,OAAOI,KAAA,aAAAD,MAAA,QAAkCd,EAAAK,GAAA,KAAAF,EAAA,mBAAoCQ,OAAOgB,MAAA,QAAAb,MAAA,KAAAL,MAAA,OAA2CO,YAAAhB,EAAAiB,KAAsBtE,IAAA,UAAAuE,GAAA,SAAAC,GAAiC,OAAAhB,EAAA,aAAwBQ,OAAOiB,KAAA,QAAcC,IAAKC,MAAA,SAAAC,GAAyB,OAAA/B,EAAAnB,eAAAsC,EAAAI,IAAAnD,QAA0C4B,EAAAK,GAAA,QAAAL,EAAAK,GAAA,KAAAF,EAAA,aAA6CQ,OAAOiB,KAAA,OAAAf,KAAA,UAA8BgB,IAAKC,MAAA,SAAAC,GAAyB,OAAA/B,EAAAjB,UAAAoC,EAAAI,IAAAhF,KAAA4E,EAAAI,IAAAnD,QAAoD4B,EAAAK,GAAA,gBAAsB,GAAAL,EAAAK,GAAA,KAAAF,EAAA,OAA4BG,YAAA,UAAoBH,EAAA,iBAAsBQ,OAAOqB,WAAA,GAAAC,OAAA,oBAAAhF,MAAA+C,EAAA/C,MAAAiF,YAAA,IAA8EL,IAAKM,iBAAAnC,EAAA7C,wBAA0C,cAEvlDiF,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEjG,EACAwD,GATF,EAVA,SAAA0C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/13.3a51f84336692d3d9b9b.js","sourcesContent":["<template>\n  <div>\n    <headerDom></headerDom>\n    <div class=\"content\">\n      <div class=\"myMusic\">\n        <h2>歌单：<span class=\"wight\">{{title}}</span></h2>\n        <el-table :data=\"showloveMusicList\" stripe style=\"width: 100%;min-height: 900px\">\n          <el-table-column type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\n          <el-table-column prop=\"al\" label=\"图片\" width=\"170\">\n            <template slot-scope=\"scope\">\n              <img\n                :src=\"scope.row.al.picUrl\"\n                alt\n                style=\"max-height:150px;width:150px;display:block\"\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"name\" label=\"歌名\"></el-table-column>\n          <el-table-column prop=\"h.br\" label=\"码率\" width=\"100\"></el-table-column>\n          <el-table-column prop=\"ar[0].name\" label=\"明星\"></el-table-column>\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"400\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"mini\" @click=\"getMusicDetail(scope.row.id)\">查看</el-button>\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"playMusic(scope.row.name,scope.row.id)\"\n              >播放</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"paged\">\n          <el-pagination\n            background\n            layout=\"prev, pager, next\"\n            :total=\"total\"\n            :page-size=\"10\"\n            @current-change=\"handleCurrentChange\"\n          ></el-pagination>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport headerDom from \"@/components/header\";\nexport default {\n  name: \"index\",\n  components: {\n    headerDom\n  },\n  data() {\n    return {\n        // 获取列表的预置信息\n        key:\"\",\n\t    title:\"主推音乐\",\n\n      profile: {}, //网易云登录信息\n      myloveMusicList: \"\", //0 是我喜欢，其他是别的歌单  我喜欢歌单的相关，从这里拿总数和id、\n      loveMusicList: [], //歌单 包含每首歌的名字和id\n      showloveMusicList: [], //歌单,前端分页后数据\n\t    total:333,//歌单总数\n      //该歌单总数量\n    };\n  },\n  methods: {\n    handleCurrentChange(val) {\n      var endindex = val * 10;\n      var startindex = val * 10 - 10;\n      this.showloveMusicList = this.loveMusicList.slice(startindex, endindex);\n    },\n\n    // 网易云登录后获取我的收藏喜欢的歌单 拿到歌单的id\n    getMusicList(userId) {\n      let that = this;\n      that.$axios\n        .get(\"myMusiclist\", { uid: userId })\n        .then(result => {\n          that.myloveMusicList = result.playlist[0]; //0 是我喜欢，其他是别的歌单\n            // console.log( that.myloveMusicList)\n          that.getMyMusic(this.myloveMusicList.id);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    // 网易云获取我的收藏喜欢的歌单 的列表 拿到歌单的列表  拿到每首歌的信息\n    getMyMusic(id) {\n    \tlet that = this\n\t    that.$axios.get(\"myMusicDetail\", { id: id,br:999000 }).then(result => {\n        \tconsole.dir(result)\n\t        that.loveMusicList = result.playlist.tracks;\n\t        that.total = result.playlist.tracks.length;\n\t        that.handleCurrentChange(1);\n        }).catch(error => {\n          console.log(error);\n        });\n    },\n    //获取每首歌的详情\n    getMusicDetail(key) {\n      this.$axios.get(\"lyric\", { id: key }).then(res => {\n          // console.log(res);\n        }).catch(error => {\n          console.log(error);\n        });\n    },\n    //播放音乐\n    playMusic(item, key) {\n      this.$axios.get(\"eachMusicUrl\", { id: key }).then(res => {\n          this.$notify({\n            duration: 0,\n            title: item,\n            position: \"bottom-right\",\n            dangerouslyUseHTMLString: true,\n            message:\n              '<audio controls=\"controls\" loop=\"loop\" autoplay=\"autoplay\" src=\"' +\n              res.data[0].url +\n              '\"></audio>'\n          });\n        }).catch(error => {\n          console.log(error);\n        });\n    }\n  },\n  created() {\n\n\t  //      localStorage是在浏览器的东西所以不能再这个服务端操作的时候获取，应该都在mounted浏览器操作的时候获取\n  },\n    mounted(){\n\t    let that = this\n\t    var userId = localStorage.getItem(\"userId\");\n\t    if (that.$route.query){\n\t\t    if (that.$route.query.id){\n\t\t\t    that.key = that.$route.query.id\n\t\t\t    that.title = that.$route.query.name\n\t\t\t    this.getMyMusic(that.key);\n\t\t    }else{\n\t\t\t    this.getMusicList(userId);\n\t\t    }\n\t    } else {\n\t\t    this.getMusicList(userId);\n\t    }\n    }\n};\n</script>\n\n<style scoped>\n/*歌曲列表*/\n.myMusic {\n  width: 1100px;\n  margin: 0 auto;\n  box-sizing: border-box;\n  padding: 40px 0;\n  background-color: #fff;\n  cursor: pointer;\n}\n.pagef {\n  width: 500px;\n}\n.paged {\n  margin: 30px auto 0px;\n  display: flex;\n  justify-content: space-around;\n}\n    .wight{\n        font-weight: 300;\n        color: #F56C6C;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/music/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('headerDom'),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"myMusic\"},[_c('h2',[_vm._v(\"歌单：\"),_c('span',{staticClass:\"wight\"},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"min-height\":\"900px\"},attrs:{\"data\":_vm.showloveMusicList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"al\",\"label\":\"图片\",\"width\":\"170\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"max-height\":\"150px\",\"width\":\"150px\",\"display\":\"block\"},attrs:{\"src\":scope.row.al.picUrl,\"alt\":\"\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"歌名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"h.br\",\"label\":\"码率\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"明星\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"400\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.getMusicDetail(scope.row.id)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.playMusic(scope.row.name,scope.row.id)}}},[_vm._v(\"播放\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"paged\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":10},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e60acdf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/music/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e60acdf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e60acdf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e60acdf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/music/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}