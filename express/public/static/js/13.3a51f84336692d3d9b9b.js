webpackJsonp([13],{"MGP+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"index",components:{headerDom:i("Cz8s").a},data:function(){return{key:"",title:"主推音乐",profile:{},myloveMusicList:"",loveMusicList:[],showloveMusicList:[],total:333}},methods:{handleCurrentChange:function(t){var e=10*t,i=10*t-10;this.showloveMusicList=this.loveMusicList.slice(i,e)},getMusicList:function(t){var e=this,i=this;i.$axios.get("myMusiclist",{uid:t}).then(function(t){i.myloveMusicList=t.playlist[0],i.getMyMusic(e.myloveMusicList.id)}).catch(function(t){console.log(t)})},getMyMusic:function(t){var e=this;e.$axios.get("myMusicDetail",{id:t,br:999e3}).then(function(t){console.dir(t),e.loveMusicList=t.playlist.tracks,e.total=t.playlist.tracks.length,e.handleCurrentChange(1)}).catch(function(t){console.log(t)})},getMusicDetail:function(t){this.$axios.get("lyric",{id:t}).then(function(t){}).catch(function(t){console.log(t)})},playMusic:function(t,e){var i=this;this.$axios.get("eachMusicUrl",{id:e}).then(function(e){i.$notify({duration:0,title:t,position:"bottom-right",dangerouslyUseHTMLString:!0,message:'<audio controls="controls" loop="loop" autoplay="autoplay" src="'+e.data[0].url+'"></audio>'})}).catch(function(t){console.log(t)})}},created:function(){},mounted:function(){var t=localStorage.getItem("userId");this.$route.query&&this.$route.query.id?(this.key=this.$route.query.id,this.title=this.$route.query.name,this.getMyMusic(this.key)):this.getMusicList(t)}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("headerDom"),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"myMusic"},[i("h2",[t._v("歌单："),i("span",{staticClass:"wight"},[t._v(t._s(t.title))])]),t._v(" "),i("el-table",{staticStyle:{width:"100%","min-height":"900px"},attrs:{data:t.showloveMusicList,stripe:""}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t._v(" "),i("el-table-column",{attrs:{prop:"al",label:"图片",width:"170"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{"max-height":"150px",width:"150px",display:"block"},attrs:{src:t.row.al.picUrl,alt:""}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"歌名"}}),t._v(" "),i("el-table-column",{attrs:{prop:"h.br",label:"码率",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"ar[0].name",label:"明星"}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.getMusicDetail(e.row.id)}}},[t._v("查看")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.playMusic(e.row.name,e.row.id)}}},[t._v("播放")])]}}])})],1),t._v(" "),i("div",{staticClass:"paged"},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1)],1)])],1)},staticRenderFns:[]};var n=i("VU/8")(s,a,!1,function(t){i("fxtW")},"data-v-1e60acdf",null);e.default=n.exports},fxtW:function(t,e){}});
//# sourceMappingURL=13.3a51f84336692d3d9b9b.js.map